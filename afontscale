#!/bin/bash
LOCATION=$(dirname "$0")
source $LOCATION/common_tools
trap 'ctrlc $@' 1 2 3 6 15

ctrlc()
{
  restore_font_scale
  exit
}

set_font_scale(){
  PREVIOUS_SCALE=$(adb -s $SELECTED_DEVICE shell settings get system font_scale)
  adb -s $SELECTED_DEVICE shell settings put system font_scale $1
}

restore_font_scale(){
  set_font_scale $PREVIOUS_SCALE
  echo "üîÑ Font scale restored to previous."
}

android_choose_device

if ! [ -z $1 ]; then
  set_font_scale $1
  read -p "üî† Font scale set to $1, hit ENTER to revert."
else
  set_font_scale 1.3
  read -p "üîç Font scale se to 1.3, hit ENTER to revert."
fi

restore_font_scale
