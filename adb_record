#!/bin/bash
trap 'ctrlc' 1 2 3 6 15

ctrlc()
{
sleep 1
if [ -z "$1" ] ; then
   adb pull /mnt/sdcard/output.mp4 ~/Desktop/video-$(date +%Y-%m-%d-%H-%M-%S).mp4
else
   adb pull /mnt/sdcard/output.mp4 ~/Desktop/$1.mp4
fi
adb shell rm /mnt/sdcard/output.mp4
exit
}

adb shell screenrecord --verbose /mnt/sdcard/output.mp4
